
@model PostCreateMV

<div id="postModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Create a Post</h3>
            <span class="close-button" onclick="closePostModal()">&times;</span>
        </div>

        <form asp-action="CreatePost" asp-controller="Post" method="post" enctype="multipart/form-data">
            <textarea name="TextContent" class="post-textarea" placeholder="What’s on your mind?" required></textarea>
            <input type="file" name="Images" multiple accept="image/*" class="post-file-upload" />
            <button type="submit" class="btn btn-primary">Post</button>
        </form>
    </div>
</div>


<style>
    .post-trigger-button {
        width: 100%;
        padding: 10px;
        font-size: 16px;
        border: 1px solid #ccc;
        background-color: #f9f9f9;
        border-radius: 6px;
        text-align: left;
        cursor: pointer;
    }

    .post-trigger-button:hover {
        background-color: #f0f0f0;
    }


</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const openBtn = document.getElementById('openModalTrigger');
        const modal = document.getElementById('postModal');
        const closeBtn = modal.querySelector('.close-button');

        if (openBtn && modal && closeBtn) {
            openBtn.addEventListener('click', function () {
                modal.style.display = 'flex';
            });

            closeBtn.addEventListener('click', function () {
                modal.style.display = 'none';
            });

            window.addEventListener('click', function (e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }
    });
</script>